= card header: t(:customer_documents), class: 'customer-documents' do
  = form_tag upload_documents_customer_path, multipart: true do
    %table.table.table-striped
      %tbody
        - Customer::ATTACHMENT_TYPES.each do |attachment_type|
          - attachment = attachment_for(@customer, attachment_type)
          %tr
            %td= t(attachment_type)
            %td= attachment.filename
            %td.text-right
              - if attachment.is_a? ActiveStorage::Attachment
                .dropdown
                  %button#dropdownMenuButton.btn.btn-outline-dark.dropdown-toggle{ aria: { expanded: false, haspopup: true },
                                                                                   'data-toggle' => 'dropdown',
                                                                                 type: :button }
                    = t(:action)
                  .dropdown-menu{ 'aria-labelledby' => 'dropdownMenuButton' }
                    = link_to t(:view),
                              rails_blob_path(attachment),
                              class: 'dropdown-item',
                              target: :blank
                    = link_to t(:confirm), '#', class: 'dropdown-item disabled'
                    = link_to t(:reject), '#', class: 'dropdown-item disabled'
                    = link_to t(:history), documents_history_customer_path(id: @customer.id, document_type: attachment_type), class: 'dropdown-item'
              - else
                = file_field_tag attachment_type, accept: 'image/jpeg, image/png, image/gif, application/pdf'
    .row
      .col.text-right
        = submit_tag t(:upload), class: 'btn btn-secondary'
